<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Genetic algorithm - Menu</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
  <script src="java-connector.js"></script>
  <script src="javascript-connector.js"></script>
  <script src="utils.js"></script>
  <script src="validators.js"></script>
</head>
<body>

  <div id="spinner-overlay" class="spinner-overlay">
    <div class="spinner"></div>
  </div>

  <div class="menu-container">
    <div class="header-container">
      <h1 id="header">Genetic algorithm for finding max/min in function</h1>
    </div>

    <div class="learning-status-container">
      <div id="result">
      </div>
      <div id="executionTime">
      </div>
    </div>

    <div class="form-container">
      <form id="form">

        <div class="input-container">
          <label>Begin of the range:</label>
          <input oninput="validateRange(id)" id="rangeBegin" placeholder="a" value="-4.5" required/>
        </div>

        <div class="input-container">
          <label>End of the range:</label>
          <input oninput="validateRange(id)" id="rangeEnd" placeholder="b" value="4.5" required/>
        </div>

        <div class="input-container">
          <label>Population amount:</label>
          <input oninput="validateIntBoundary(id, 10, 100000000)" id="populationCount" placeholder="10...100 000 000" value="100" required/>
        </div>

        <div class="input-container">
          <label>Chromosome precision:</label>
          <input oninput="validateIntBoundary(id, 0, 100)" id="chromosomeAccuracy" placeholder="0..100" value="6" required/>
        </div>

        <div class="input-container">
          <label>Epochs amount:</label>
          <input oninput="validateIntBoundary(id, 0, 1000000000)" id="epochsCount" placeholder="1...1 000 000 000" value="1000" required/>
        </div>

        <div class="input-container">
          <label>Elite Strategy amount:</label>
          <input oninput="validateEliteAmount(id)" id="eliteStrategyAmount" placeholder="0...{Population amount}" value="10" required/>
        </div>

        <div class="input-container">
          <label>Cross probability:</label>
          <input oninput="validateFloatBoundary(id, 0, 1)" id="crossProbability" placeholder="0...1" value="0.6" required/>
        </div>
        
        <div class="input-container">
          <label>Mutation probability:</label>
          <input oninput="validateFloatBoundary(id, 0, 1)" id="mutationProbability" placeholder="0...1" value="0.4" required/>
        </div>

        <div class="input-container">
          <label>Inversion probability:</label>
          <input oninput="validateFloatBoundary(id, 0, 1)" id="inversionProbability" placeholder="0...1" value="0.1" required/>
        </div>

        <div class="input-container">
          <label>Selection method:</label>
          <select onchange="handleSelectionMethodChange()" id="selectionMethod">
            <option value="best">Best</option>
            <option value="roulette">Roulette</option>
            <option value="tournament">Tournament</option>
          </select>
        </div>

        <!--       this param depend on selection method:
                      - Tournament -> range 1...population_count
                      - Best 0...1 (percentage) -->
        <div id="selectionParameterContainer" class="input-container">
          <label id="selectionParameterLabel">Best chromosome preservation amount (in %):</label>
          <input oninput="validateFloatBoundary(id, 0, 100)" id="selectionParameter" value="30" required/>
        </div>

        <div class="input-container">
          <label>Cross method:</label>
          <select id="crossMethod">
            <option value="onePoints">One point</option>
            <option value="twoPoints">Two points</option>
            <option value="threePoints">Three points</option>
            <option value="homo">Homo</option>
          </select>
        </div>

        <div class="input-container">
          <label>Mutation method:</label>
          <select id="mutationMethod">
            <option value="onePoint">One point</option>
            <option value="twoPoints">Two points</option>
            <option value="edge">Edge</option>
          </select>
        </div>

        <div class="input-container">
          <label>Optimization type:</label>
          <select id="optimizationType">
            <option value="minimization">Minimization</option>
            <option value="maximization">Maximization</option>
          </select>
        </div>
      </form>

      <div class="button-container">
        <button id="reset" onclick="setToDefault()">Reset Values</button>
        <button id="run" onclick="runLearning();">Run</button>
      </div>
    </div>
  </div>
</body>
</html>
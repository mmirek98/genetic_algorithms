<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genetic algorithm - Results</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="java-connector.js"></script>
    <script src="javascript-connector.js"></script>
    <script src="utils.js"></script>
    <script src="validators.js"></script>
    <script src="plotly-latest.min.js"></script>
</head>
<body>
<div id="tester" style="width:1600px;height:700px;"></div>
<script>
  const rand = () => Math.random();
  var x = [1, 2, 3, 4, 5];
  const new_data = (trace) => Object.assign(trace, {y: x.map(rand)});

  // add random data to three line traces
  var data = [
    {mode:'lines', line: {color: "#b55400"}}
  ].map(new_data);

  var layout = {
    title: 'User Zoom Persists<br>When uirevision Unchanged',
    uirevision:'true',
    xaxis: {autorange: true},
    yaxis: {autorange: true}
  };

  Plotly.react('tester', data, layout);

  var myPlot = document.getElementById('tester');

  var cnt = 0;
  var interval = setInterval(function() {
    data = data.map(new_data);

    // user interaction will mutate layout and set autorange to false
    // so we need to reset it to true
    layout.xaxis.autorange = true;
    layout.yaxis.autorange = true;

    // not changing uirevision will ensure that user interactions are unchanged
    // layout.uirevision = rand();

    Plotly.react('tester', data, layout);
    if(cnt === 100) clearInterval(interval);
  }, 2500);
</script>
</body>
</html>